<!doctype html>
<html lang="en" class="dark">
<head>
  <title>Nexa Bank — Register</title>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="./N.png" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config={darkMode:'class',theme:{extend:{colors:{brand:{DEFAULT:'#7c3aed',dark:'#6d28d9'},slatebg:'#0b1220'}}}}</script>
</head>
<body class="min-h-screen text-slate-100">
  <header class="nav-blur sticky top-0 z-50">
    <div class="container-max mx-auto px-4 h-14 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-2 hover:opacity-80 transition">
        <img src="./Nexa Bank.png" alt="Nexa Bank Logo" class="site-logo object-cover rounded" />
      </a>
    </div>
  </header>

  <main class="container-max mx-auto px-4 py-12">
    <div class="mb-6">
      <a href="login.html" class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 border border-white/10 transition font-semibold">← Back</a>
    </div>

    <div class="max-w-xl mx-auto relative glass rounded-2xl p-8 border border-white/10 shadow-soft animate-scale-in">
      <!-- decorative blob to match site style -->
      <div aria-hidden="true" class="hero-deco hidden md:block"></div>
    
      <h1 class="text-2xl font-bold mb-3">Create your Nexa Bank account</h1>
      <p class="text-slate-300 mb-6">Register with your email to start your loan journey. Secure, fast and paperless onboarding.</p>

      <form id="registerForm" class="space-y-4">
        <label class="block">
          <span class="text-sm">Email address</span>
          <input id="regEmail" type="email" required placeholder="you@example.com" class="mt-1 w-full rounded-lg bg-slate-800 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-brand" />
        </label>

        <label class="block">
          <span class="text-sm">Password</span>
          <div class="relative">
            <input id="regPass" type="password" required placeholder="Create a password" class="mt-1 w-full rounded-lg bg-slate-800 border border-white/10 px-3 py-2 pr-12 outline-none focus:ring-2 focus:ring-brand" />
            <button id="regToggle1" type="button" class="pw-toggle absolute right-2 top-1/2 transform -translate-y-1/2" aria-label="Show password" aria-pressed="false"></button>
          </div>
          <div class="strength-wrap">
            <div class="strength-track"><div id="passStrengthBar" class="strength-bar" style="width:0%"></div></div>
            <div id="passStrengthText" class="strength-text">Use at least 8 characters, mix letters & numbers.</div>
          </div>
        </label>

        <label class="block">
          <span class="text-sm">Confirm Password</span>
          <div class="relative">
            <input id="regPass2" type="password" required placeholder="Confirm password" class="mt-1 w-full rounded-lg bg-slate-800 border border-white/10 px-3 py-2 pr-12 outline-none focus:ring-2 focus:ring-brand" />
            <button id="regToggle2" type="button" class="pw-toggle absolute right-2 top-1/2 transform -translate-y-1/2" aria-label="Show password" aria-pressed="false"></button>
          </div>
          <div id="passMatchText" class="text-xs text-rose-400 mt-2 hidden">Passwords do not match</div>
        </label>

        <label class="flex items-center gap-2 text-sm text-slate-300">
          <input id="agree" type="checkbox" class="rounded" />
          I agree to the <a href="#" class="text-brand underline">Terms & Privacy</a>
        </label>

        <button type="submit" class="w-full py-2.5 rounded-xl bg-gradient-to-r from-brand to-indigo-600 font-semibold">Register</button>
      </form>

      <p class="text-xs text-slate-400 mt-4">After registering you can apply for loans, check eligibility and track application status.</p>
    </div>
  </main>

  <footer class="container-max mx-auto px-4 py-8 text-xs text-slate-400">© Nexa Bank — Next-step finance.</footer>

  <script src="./UI.nomodule.js"></script>
  <script>
    if(window.wireMobileNav) wireMobileNav('mobileMenuBtn','mobileMenu');
    // wire toggles for register fields
    if(window.wirePasswordToggle) wirePasswordToggle('regPass','regToggle1');
    if(window.wirePasswordToggle) wirePasswordToggle('regPass2','regToggle2');

    const strengthBar = document.getElementById('passStrengthBar');
    const strengthText = document.getElementById('passStrengthText');
    const passInput = document.getElementById('regPass');
    const pass2Input = document.getElementById('regPass2');
    const passMatchText = document.getElementById('passMatchText');

    function scorePassword(p){
      let score = 0;
      if(!p) return 0;
      if(p.length >= 8) score += 1;
      if(/[a-z]/.test(p) && /[A-Z]/.test(p)) score += 1;
      if(/[0-9]/.test(p)) score += 1;
      if(/[^A-Za-z0-9]/.test(p)) score += 1;
      return score; // 0-4
    }

    function updateStrength(){
      const p = passInput.value;
      const s = scorePassword(p);
      const pct = (s/4)*100;
      strengthBar.style.width = pct + '%';
      if(s <= 1){ strengthBar.style.backgroundColor = '#ef4444'; strengthText.textContent = 'Weak — add more characters and variety.'; }
      else if(s === 2){ strengthBar.style.backgroundColor = '#f59e0b'; strengthText.textContent = 'Fair — add uppercase or symbols for better security.'; }
      else if(s === 3){ strengthBar.style.backgroundColor = '#60a5fa'; strengthText.textContent = 'Good — consider adding symbols for extra strength.'; }
      else { strengthBar.style.backgroundColor = '#34d399'; strengthText.textContent = 'Strong — nice! Your password is secure.'; }
    }

    passInput.addEventListener('input', ()=>{
      updateStrength();
      passMatchText.classList.toggle('hidden', pass2Input.value === '' || passInput.value === pass2Input.value);
    });
    pass2Input.addEventListener('input', ()=>{
      passMatchText.classList.toggle('hidden', passInput.value === pass2Input.value);
    });

    document.getElementById('registerForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      const email = document.getElementById('regEmail').value.trim();
      const p1 = passInput.value;
      const p2 = pass2Input.value;
      const agree = document.getElementById('agree').checked;
      if(!email || !p1 || !p2) { showToast('Please fill all fields'); return; }
      if(p1 !== p2) { showToast('Passwords do not match'); return; }
      if(!agree) { showToast('Please agree to Terms & Privacy'); return; }
      // Mock registration success
      showToast('Registration successful — check your email to verify', 3000);
      setTimeout(()=> location.href = 'login.html', 1400);
    });
  </script>
</body>
</html>